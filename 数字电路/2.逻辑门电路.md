![[Pasted image 20230306161419.png|600]]

## 正负逻辑概念
- 正逻辑：高电平代表1，低电平代表0
- 负逻辑：高电平代表0，低电平代表1
- 同一种电路在不同的电平逻辑下的功能不同，是<font color=red>对偶</font>的关系

OC门：集电极开路门
OD门：漏极开路门
OC门和OD门都可以实现线与功能，三态门可以实现有条件的线或功能


## 逻辑门电路
### 与非、或非门
由于NMOS接地，所以实际电路中输出总是会取反，也就是为什么输出总是与非门、或非门，而不是与门、非门。
<font color=red>与非门：NMOS串联接地，PMOS并联接高电平</font>
<font color=blue>或非门：NMOS并联接地，PMOS串联接高电平</font>
![[Pasted image 20230306182855.png|600]]


### CMOS传输们
- 类似于数据选择器，但既可以通过数字信号，也可以通过模拟信号
![[Pasted image 20230306183331.png|600]]

### 施密特触发器
- 输入端存在两个不同的转换电平：输入上升转换电平 $V_{T+}$和输入下降转换电平$VT−$，其中，$V_{T+}>V_{T−}$。
- 滞后电压：为门限电压之差 $V_{T+}−V_{T−}$。
- 应用：用于输入缓冲，抑制输入噪声;脉冲整形

### 三态输出
- 结构：通过附加的输入控制端实现高阻输出（将输出端上下的晶体管全都截止）
- 特点：可以输出 1、0 和 Z（高阻）三种状态；
- 要求：进入 Z 的时间长于脱离 Z 的时间（多个器件使用时，能够保证先断后通）
- 应用：多个器件的输出可以直接连接，共用（共享）总线；条件为任何时刻只有一个器件使能（占用总线）

### 漏极开路输出
- 结构：去掉了输出和电源之间的 PMOS 管。使用时需外接上拉电阻
- 特点：只能输出 0 和 Z；可以外接上拉电阻实现输出1;多个器件输出端可以直接连接，得到“线与逻辑

上拉电阻的计算：
最大值：提供后级所需最大高电平输入电流时，能够保证输出高电平电压；
最小值：输出低电平时，能够保证不超过最大输出电流；
需要注意的是：外接上拉电阻会显著降低器件转换速度。

## CMOS 稳态电气特性
- CMOS器件的动态功耗远大于静态功耗
### 输入/输出电压
$V_{OHmin}$：输出为高态时的最小输出电压。
$V_{IHmin}$： 能保证被识别为高态时的最小输入电压。
$V_{OLmax}$： 能保证被识别为低态时的最大输入电压：
$V_{ILmax}$： 输出为低态时的最大输出电压。

<font color=red>输入电压主要由晶体管的开关门限电压决定，而输出电压主要由晶体管的“导通”电阻决定。</font>
高电平直流噪声容限为: $V_{NH}=V_{OHmin1}− V_{IHmin2}$
低电平直流噪声容限为:$V_{NL}=V_{ILmax2}− V_{OLmax1}$ 

### 输入/输出电流
输入电流：
由于CMOS 电路的输入端都接到管子的栅极，所以不管输入电压如何，输入电流都很小，一般是μA级，可以近似为0。

输出电流：
$I_{OLmax}$：输出低态且仍能维持输出电压不大于 $V_{OLmax}时$，输出端能吸收的最大电流；
$I_{OHmax}$：输出高态且仍能维持输出电压不小于 $V_{OHmin}时$，输出端可提供的最大电流。

当电路输出高电平的时候，门电路需要给为负载提供电流
当电路输出低电平的时候，门电路需要替负载吸收电流

### 扇出与扇入
扇出：
逻辑门的扇出（fanout）是指该门电路在不超出其最坏情况负载规格的条件下能驱动的输入端的个数。扇出不仅依赖于输出端的特性，还依赖于它驱动的输入端的特性。扇出的计算必须考虑输出的两种可能状态：高电平状态和低电平状态。
直流扇出能力计算方法为
$$
\begin{align*}
fanout_{H}=\frac{I_{OHmax}}{I_{IHmax}} \qquad fanout_{L}=\frac{I_{OLmax}}{I_{ILmax}}
\\\\
fanout=min\{fanout_{H}, fanout_{L}\}
\end{align*}
$$

扇入：
扇入指的是单个门电路上同类输入端的最大数量。若扇入增大，会使电路中串联的晶体管导通电阻增大，电路时间常数增加，响应速度变慢，所以扇入数不能过大。


### CMOS闲置端处理
1. 和其他输入端并接，
2. 接上拉电阻到电源/接下拉电阻到地
3. 直接连接到电源/直接连接到地。

### CMOS的动态特性
- 转换时间可分为输出上升时间$t_r$和输出下降时间$t_f$，其值的大小和门的导通电阻与负载电容之积成正比。
- 传播延迟时间$t_p$ 指的是从输入变化到输出变化所需的时间。其值取决于器件内部的结构与信号传输的路径

$I^2L$门：
- 全部由晶体管组成，没有电阻，所以电路结构十分简单
TTL电路：
- 以双极型晶体管为开关元件，具有速度高（开关速度快）、驱动能力强等优点，但其功耗较大，集成度相对较低。
ECL电路：
- 最大特点是其基本门电路工作在非饱和状态，具有相当高的速度。
CMOS电路：
- 主要优点是输入阻抗高、功耗低、抗干扰能力强且适合大规模集成。


TTL电路：
- 闲置端不能接地

高阻态：
  高阻态是一个数字电路里常见的术语，指的是电路的一种输出状态，既不是高电平也不是低电平。如果高阻态        再输入下一级电路的话，对下级电路无任何影响，和没接一样。
 
 高阻态有以下几个作用：
- 高阻态可以作为输入状态，读入外部电平。
- 高阻态可以使电路放弃对输出端的控制，让其他电路接管输出端。
- 高阻态可以减少功耗，因为没有电流流动。


噪声容限：
- 高电平噪声容限 = $V_{IHmin}-V_{OHmin}$
- 低电平噪声容限 = $V_{ILmax}-V_{OLmax}$
- 噪声容限 = **min{** 高电平噪声容限，低电平噪声容限 **}**


## 例题
![[Pasted image 20230306183051.png|600]]
思路：
- 按照低电平进行分析，先求Z'
- NMOS串联则说明对应栅极变量相与
- NMOS并联则说明对应栅极变量相或
解：
$$
\begin{align*}
&Z'=AB+CD \ \Rightarrow Z=(A'+B')\cdot (C'+D')
\end{align*}
$$


噪声容限的计算：
![[Pasted image 20230416155023.png|700]]

正负逻辑电路的关系
![[Pasted image 20230306214433.png|600]]


![[Pasted image 20230306214940.png|600]]


<font color=red>分IN输入为：高电平-->低电平；低电平-->高电平</font>
准确最大延迟时间：每个门电路都准确到$t_{pLH},t_{pHL}$
每个门的最坏情况：每个门不管如何都用最大延迟时间
![[Pasted image 20230307102357.png|700]]


<font color=red>考虑传递延迟时间，把每一个变量、每一个门的输出都画出</font>
![[Pasted image 20230307103442.png|700]]

<font color=red>每一次的运算所得都应该增加一级的传输延迟时间</font>
![[Pasted image 20230307104635.png|600]]


考察扇出的计算
![[Pasted image 20230307145925.png|600]]
![[Pasted image 20230307145954.png|600]]